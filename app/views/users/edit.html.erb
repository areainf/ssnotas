<div class="form-v3">

<h1>Editar usuario</h1>
<%= render 'js_select_dependencias.js' %>
<%= form_for @user do |f| %>

  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@user.errors.count, "error") %>  produjo que el usuario no se guardara:</h2>
      <ul>
        <% @user.errors.each_with_index do |msg, i| %>
          <li><%= msg[1] %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="field">
    <%= f.label :username, "Nombre de Usuario" %><br />
    <%= f.text_field :username , :class=>"field"%>
  </div>
  <div class="field">
    <%= f.label :email %><br />
    <%= f.text_field :email, :class=>"field" %>
  </div>
  <div class="field">
    <%= f.label :rol, "Rol" %><br>
    <%= f.collection_select(:rol_id, @roles, "id","name",  options = {:prompt => "Sin Rol"},{:class=>"field", :onchange => "showHideDependencias();"}) %>
  </div>
  <div class="field" id="div-dependencia">
    <%= f.label :dependencia_id, "Dependencia" %><br>
    <%= f.hidden_field :dependencia_id  %>
    <%= select_tag "dependencia_id", options_from_collection_for_select(@dependencias, "id","nombre",@user.dependencia_id), {:class=>"field", :onchange => "showHideDependencias();"} %>

  </div>
 <div class="actions">
    <center><%= f.submit "Aceptar", :class => 'button-v1' %></center>
  </div>
<% end %>

</div>
